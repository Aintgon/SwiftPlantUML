<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (100% documented)</p>
        <p class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
          Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/AccessLevel.html">AccessLevel</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/BrowserPresentationFormat.html">BrowserPresentationFormat</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ClassDiagramOutput.html">ClassDiagramOutput</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Color.html">Color</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/LogLevel.html">LogLevel</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/PumlThemes.html">PumlThemes</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/RelationshipInlineStyle.html">RelationshipInlineStyle</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/Logging.html">Logging</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/PlantUMLPresenting.html">PlantUMLPresenting</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/ClassDiagramGenerator.html">ClassDiagramGenerator</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Configuration.html">Configuration</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ConfigurationProvider.html">ConfigurationProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ConsoleLogger.html">ConsoleLogger</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ElementOptions.html">ElementOptions</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FileCollector.html">FileCollector</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FileOptions.html">FileOptions</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PlantUMLBrowserPresenter.html">PlantUMLBrowserPresenter</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PlantUMLConsolePresenter.html">PlantUMLConsolePresenter</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PlantUMLScript.html">PlantUMLScript</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Relationship.html">Relationship</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/RelationshipOptions.html">RelationshipOptions</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/RelationshipStyle.html">RelationshipStyle</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Spot.html">Spot</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Stereotype.html">Stereotype</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Stereotypes.html">Stereotypes</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Version.html">Version</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='swiftplantuml' class='heading'>SwiftPlantUML</h1>

<p>Generate UML class diagrams from swift code with this Command Line Interface (CLI) and Swift Package.</p>

<p><a href="https://github.com/MarcoEidinger/SwiftPlantUML/workflows/Swift"><img src="https://github.com/MarcoEidinger/SwiftPlantUML/workflows/Swift/badge.svg" alt="Build Status"></a>
<a href="https://codecov.io/gh/MarcoEidinger/SwiftPlantUML"><img src="https://codecov.io/gh/MarcoEidinger/SwiftPlantUML/branch/main/graph/badge.svg" alt="codecov"></a>
<a href="https://codebeat.co/projects/github-com-marcoeidinger-swiftplantuml-main"><img src="https://codebeat.co/badges/ef555787-2240-40be-9433-f3fa141d43a9" alt="codebeat badge"></a>
<a href="https://marcoeidinger.github.io/SwiftPlantUML/"><img src="https://marcoeidinger.github.io/SwiftPlantUML/badge.svg" alt="docs"></a>
<a href="https://github.com/MarcoEidinger/SwiftPlantUML-Xcode-Extension"><img src="https://img.shields.io/badge/Xcode%20extension-available-brightgreen" alt="Xcode Extension"></a>
<a href="http://twitter.com/MarcoEidinger"><img src="https://img.shields.io/badge/twitter-@MarcoEidinger-blue.svg" alt="Twitter"></a></p>

<p>Use one or more Swift files as input for a diagram to visualize <code>class</code>, <code>struct</code>, <code>protocol</code>, <code>enum</code> and <code>extension</code> types
with their instance and static members as well as their inheritance and implementation relationships</p>

<p><img src="https://github.com/MarcoEidinger/SwiftPlantUML/raw/main/.assets/exampleDiagram.png" alt="Example Diagram"></p>

<details>
  <summary><strong>Table of Contents</strong> (click to expand)</summary>

<!-- toc -->

- [SwiftPlantUML](#swiftplantuml)
    - [Usage](#usage)
        - [Command Line](#command-line)
        - [Swift package](#swift-package)
        - [Xcode source editor extension](#xcode-source-editor-extension)
    - [Installation](#installation)
        - [Using Homebrew](#using-homebrew)
        - [Using Mint](#using-mint)
        - [Installing from source](#installing-from-source)
        - [Note: Working with Multiple Swift Versions](#note-working-with-multiple-swift-versions)
    - [Configuration](#configuration)
        - [Options](#options)
        - [Examples](#examples)
        - [Code Completion during Editing](#code-completion-during-editing)
    - [Large Diagrams](#large-diagrams)
    - [Planned improvements](#planned-improvements)
    - [Known limitations](#known-limitations)
    - [Acknowledgements](#acknowledgements)

<!-- tocstop -->

</details>
<h2 id='usage' class='heading'>Usage</h2>
<h3 id='command-line' class='heading'>Command Line</h3>

<p>Example to generate and render diagram, based on a single Swift file, in your browser:</p>
<pre class="highlight plaintext"><code>swiftplantuml ./Tests/SwiftPlantUMLFrameworkTests/TestData/basics.txt
</code></pre>

<p>Run <code>swiftplantuml</code> in the directory containing the Swift files to be considered for diagram generation. Directories
will be searched recursively.</p>
<pre class="highlight plaintext"><code>$ swiftplantuml classdiagram --help
OVERVIEW: Generate PlantUML script and view it and diagram in browser

USAGE: swift-plant-uml classdiagram [--config &lt;config&gt;] [--exclude &lt;exclude&gt; ...] [--output &lt;format&gt;] [--sdk &lt;sdk&gt;] [--verbose] [&lt;paths&gt; ...]

ARGUMENTS:
  &lt;paths&gt;                 List of paths to the files or directories containing
                          swift sources

OPTIONS:
  --config &lt;config&gt;       Path to custom configuration filed (otherwise will
                          search for `.swiftplantuml.yml` in current directory)
  --exclude &lt;exclude&gt;     paths to ignore source files. Takes precedence over
                          arguments
  --output &lt;format&gt;       Defines output format. Options: browser,
                          browserImageOnly, consoleOnly
  --sdk &lt;sdk&gt;             MacOSX SDK path used to handle type inference
                          resolution, usually `$(xcrun --show-sdk-path -sdk
                          macosx)`
  --verbose               Verbose
  --version               Show the version.
  -h, --help              Show help information.
</code></pre>

<p>As <code>classdiagram</code> is the default subcommand you can omit it.</p>

<p>Note: unknown type in diagrams for variables declared with type inference (e.g. <code>var hasBasket = false</code>) <em>unless</em> you specify <code>sdk</code> argument</p>

<details>
  <summary><strong>Type inference details</strong> (click to expand)</summary>

In the following example the property `hasBasket` is of type `Bool` but the type is inferred and not explicitly declared.

&ldquo;`swift
class Bicycle: Vehicle {
    var hasBasket = false
}
&rdquo;`

SwiftPlantUML requires the macosx SDK in order to properly recognize the inferred type. If you have Xcode installed (which includes the macosx SDK) then use `&ndash;sdk $(xcrun &ndash;show-sdk-path -sdk macosx)`.

|                    | No inferred type (*default*) | inferred type |
|&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;|&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-|&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;|
| Generated PlantUML |  `~hasBasket`                 |  `~hasBasket : Bool` 
| Command            | `swiftplantuml classdiagram Tests/SwiftPlantUMLFrameworkTests/TestData/demo.txt`                  | `swiftplantuml classdiagram Tests/SwiftPlantUMLFrameworkTests/TestData/demo.txt &ndash;sdk $(xcrun &ndash;show-sdk-path -sdk macosx)`                      |                     |

</details>
<h3 id='swift-package' class='heading'>Swift package</h3>
<pre class="highlight swift"><code><span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
    <span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/MarcoEidinger/SwiftPlantUML.git"</span><span class="p">,</span> <span class="o">.</span><span class="nf">upToNextMajor</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="s">"0.3.0"</span><span class="p">))</span>
<span class="p">]</span>
</code></pre>

<p>This project is still in initial development. Generally this anything may change at any time and the public API should not be considered stable). However, I&rsquo;ll try to reserve breaking changes for new minor versions. You might feel more comfortable to pin the version to <code>.upToNextMinor</code> or even to an <code>.exact</code> version.</p>

<p><a href="https://marcoeidinger.github.io/SwiftPlantUML/">API documentation</a></p>
<h3 id='xcode-source-editor-extension' class='heading'>Xcode source editor extension</h3>

<p>See <a href="https://github.com/MarcoEidinger/SwiftPlantUML-Xcode-Extension">MarcoEidinger/SwiftPlantUML-Xcode-Extension</a> for more details</p>
<h2 id='installation' class='heading'>Installation</h2>
<h3 id='using-a-href-https-brew-sh-homebrew-a' class='heading'>Using <a href="https://brew.sh/">Homebrew</a></h3>
<pre class="highlight plaintext"><code>brew install MarcoEidinger/formulae/swiftplantuml
</code></pre>
<h3 id='using-a-href-https-github-com-yonaskolb-mint-mint-a' class='heading'>Using <a href="https://github.com/yonaskolb/mint">Mint</a></h3>
<pre class="highlight plaintext"><code>$ mint install MarcoEidinger/SwiftPlantUML
</code></pre>
<h3 id='installing-from-source' class='heading'>Installing from source</h3>

<p>You can also build and install from source by cloning this project and running
<code>make install</code> (Xcode 12 or later).</p>

<p>Manually
Run the following commands to build and install manually:</p>
<pre class="highlight plaintext"><code>$ git clone https://github.com/MarcoEidinger/SwiftPlantUML.git
$ cd SwiftPlantUML
$ make install
</code></pre>
<h3 id='note-working-with-multiple-swift-versions' class='heading'>Note: Working with Multiple Swift Versions</h3>

<p>SwiftPlantUML hooks into SourceKit and therefore needs a Swift toolschain.</p>

<p>You should always run SwiftPlantUML with the same toolchain you use to compile your code.</p>

<p>You may want to override SwiftPlantUML&rsquo;s default Swift toolchain if you have multiple toolchains or Xcodes installed.</p>

<p>Here&rsquo;s the order in which SwiftPlantUML determines which Swift toolchain to use:</p>

<ul>
<li><code>$XCODE_DEFAULT_TOOLCHAIN_OVERRIDE</code></li>
<li><code>$TOOLCHAIN_DIR or $TOOLCHAINS</code></li>
<li><code>xcrun -find swift</code></li>
<li><code>/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain</code></li>
<li><code>/Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain</code></li>
<li><code>~/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain</code></li>
<li><code>~/Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain</code></li>
</ul>

<p><code>sourcekitd.framework</code> is expected to be found in the usr/lib/ subdirectory of the value passed in the paths above.</p>

<p>So if you encounter <strong>Fatal error: Loading sourcekitd.framework/Versions/A/sourcekitd failed</strong> then please check result of <code>xcode-select -p</code> to see if that directory subsequently contains a Swift toolschain. You can use <code>sudo xcode-select -s &lt;pathToYourXcodeInstallation&gt;</code> to rectify the situation, e.g. </p>

<p><code>sudo xcode-select -s /Applications/Xcode.app/Contents/Developer</code></p>
<h2 id='configuration' class='heading'>Configuration</h2>

<p>Configure SwiftPlantUML by adding a <code>.swiftplantuml.yml</code> file from the directory you&rsquo;ll run SwiftPlantUML from. Note: the same configuration options can be set programmatically with <code><a href="Structs/Configuration.html">Configuration</a></code>.</p>
<h3 id='options' class='heading'>Options</h3>

<p>You are able to</p>

<ul>
<li>include/exclude files (wildcards supported)</li>
<li>include/exclude elements by name (wildcards supported)</li>
<li>limit elements and members bases on their access level, e.g. show only <code>public</code> types</li>
<li>hide extensions</li>
<li>hide member access level attribute</li>
<li>configure styles, use <a href="https://plantuml.com/skinparam">skin parameters</a> and even include external files for theming (e.g. <a href="https://bschwarz.github.io/puml-themes/">PUML Themes</a>)</li>
<li>exclude inheritance relationships based on parent (wildcards supported), e.g. do not show inheritance to <code>Codable</code></li>
</ul>
<h3 id='examples' class='heading'>Examples</h3>

<p>Simple Example:</p>
<pre class="highlight yaml"><code><span class="na">files</span><span class="pi">:</span>
    <span class="na">exclude</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">Tests/**/*.swift"</span> <span class="c1"># paths to ignore for diagram. Takes precedence over `included`.</span>
<span class="na">elements</span><span class="pi">:</span>
  <span class="na">havingAccessLevel</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">public</span>
  <span class="na">showMembersWithAccessLevel</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">public</span>
  <span class="na">showExtensions</span><span class="pi">:</span> <span class="s">false</span>
<span class="na">skinparamCommands</span><span class="pi">:</span> <span class="c1"># see https://plantuml.com/skinparam</span>
<span class="pi">-</span> <span class="s">skinparam classBackgroundColor PaleGreen</span>
<span class="pi">-</span> <span class="s">skinparam classArrowColor SeaGreen</span>
<span class="pi">-</span> <span class="s">skinparam classBorderColor SpringGreen</span>
<span class="pi">-</span> <span class="s">skinparam stereotypeCBackgroundColor YellowGreen</span>
<span class="pi">-</span> <span class="s">skinparam stereotypeCBackgroundColor&lt;&lt; Foo &gt;&gt; DimGray</span>
<span class="na">relationships</span><span class="pi">:</span>
  <span class="na">inheritance</span><span class="pi">:</span>
    <span class="na">label</span><span class="pi">:</span> <span class="s2">"</span><span class="s">inherits</span><span class="nv"> </span><span class="s">from"</span>
    <span class="na">style</span><span class="pi">:</span>
      <span class="na">lineStyle</span><span class="pi">:</span> <span class="s">dotted</span>
      <span class="na">lineColor</span><span class="pi">:</span> <span class="s">DarkViolet</span>
      <span class="na">textColor</span><span class="pi">:</span> <span class="s">DarkViolet</span>
    <span class="na">exclude</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">Codable"</span>
</code></pre>

<p>Rich example: <a href="./Configuration/Examples/Rich/.swiftplantuml.yml">here</a></p>
<h3 id='code-completion-during-editing' class='heading'>Code Completion during Editing</h3>

<p><img src="https://user-images.githubusercontent.com/4176826/109524456-66358080-7a65-11eb-8cb8-02452c1b3732.gif" alt="codeCompletion"></p>

<p>To get code completiong during editing use Visual Studio Code, the <a href="https://marketplace.visualstudio.com/items?itemName=redhat.vscode-yaml">YAML extension created by Red Hat</a> and the <a href="./Configuration/Schema/json-schema-swiftplantuml.json">JSON schema for SwiftPlantUML</a>.</p>

<p>In Visual Studio Code:  <code>Code</code> -&gt; <code>Preferences</code> -&gt; <code>Settings</code> -&gt; search for yaml</p>

<p><img width="503" alt="Screen Shot 2021-02-27 at 5 57 49 AM" src="https://user-images.githubusercontent.com/4176826/109389381-1b7b0380-78c1-11eb-9ba2-0b553aa4dd14.png"></p>

<p>Click on <code>Edit in settings.json</code> and add the respective entry:</p>
<pre class="highlight json"><code><span class="s2">"yaml.schemas"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"https://raw.githubusercontent.com/MarcoEidinger/SwiftPlantUML/main/Configuration/Schema/json-schema-swiftplantuml.json"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/.swiftplantuml.yml"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<h2 id='large-diagrams' class='heading'>Large Diagrams</h2>

<p>Online tools like <a href="https://www.planttext.com/">PlantText</a> do not support large diagrams. If your diagram image is incompletely rendered (or not visible at all) by PlantText in the browser then </p>

<ul>
<li><a href="https://plantuml.com/download">download PlantUML</a> Java archive to your machine</li>
<li>use <code>swiftplantuml</code> to generate the script and</li>
<li>generate the actual image with <code>plantuml</code> locally</li>
</ul>

<p>Here is the respective command (which assumes that <code>plantuml.jar</code> was downloaded in the current directory from which <code>swifptlantuml</code> runs)</p>
<pre class="highlight shell"><code>swiftplantuml ./Sources/ --output consoleOnly &gt; sources.txt | java -DPLANTUML_LIMIT_SIZE<span class="o">=</span>8192 -jar plantuml.jar <span class="nv">$1</span>
</code></pre>

<p>This will result in the creation of <code>sources.png</code> file containing the class diagram up to the size limit.</p>

<p>PlantUML limits image width and height to 4096 with the option to override this limit (<code>-DPLANTUML_LIMIT_SIZE</code>) of which I made use in the command above.</p>

<p>In the table below you see the difference of class diagram output based on the same script. FYI: this script/diagram has 63 entities.</p>

<table><thead>
<tr>
<th>PlantText Output</th>
<th>PlantUML Output (Default Size Limit)</th>
<th>PlantUML Output (Custom Size Limit)</th>
</tr>
</thead><tbody>
<tr>
<td><img src="https://user-images.githubusercontent.com/4176826/109912328-ae6cc280-7c60-11eb-9761-fab6c2fc6e4e.png" alt="sources_planttext"></td>
<td><img src="https://user-images.githubusercontent.com/4176826/109912309-a2810080-7c60-11eb-8baf-85585b12984b.png" alt="sources_plantumljar"></td>
<td><img src="https://user-images.githubusercontent.com/4176826/109913177-51720c00-7c62-11eb-9757-9d312712c6b5.png" alt="sources_plantumljar_increasedlimit"></td>
</tr>
</tbody></table>
<h2 id='planned-improvements' class='heading'>Planned improvements</h2>

<ul>
<li>being able to render associations between elements</li>
<li>being able to merge extensions with their known type</li>
</ul>
<h2 id='known-limitations' class='heading'>Known limitations</h2>

<p>See <a href="#large-diagrams">Large Diagrams</a></p>
<h2 id='acknowledgements' class='heading'>Acknowledgements</h2>

<p>This project was inspired by <a href="https://github.com/palaniraja">https://github.com/palaniraja</a> and its various predecessors. Out of personal preference I chose to start a new project. I wanted to provide a tool for Swift developers written in Swift! This will hopefully allow me and potential contributors to work on planned improvements faster and more efficient. </p>

<p>Last but not least a big shoutout to the great developers of <a href="https://github.com/plantuml/plantuml">PlantUML</a> and the people who operate the related online servers / tools available on <a href="http://plantuml.com/">http://plantuml.com/</a> and <a href="https://www.planttext.com/">https://www.planttext.com/</a> </p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2021 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2021-03-05)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.6</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
